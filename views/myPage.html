<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
    <title>내 정보</title>
</head>

<body>
    <div class="flex w-100">
        <!-- top -->
        {% include "topNavbar.html" %}

        <!-- 마이페이지 -->
        <main class="myPage min-vh-100 container-sm border p-5">
            <div class="profile d-flex flex-wrap align-items-center pb-5">
                <img src="/img/profileImg.png" class="rounded-circle w-25" alt="profile">
                <div class="ms-5">
                    <h1 class="h3 fw-bold">{{user.name}} 님</h1>

                    <div class="gelocationBtn d-flex">

                        <input id="getMyAddr" name="address" style="display: none;">
                        <form id="regions">
                            <input type="hidden" name="region1" id="getFirstAddr" value="">
                            <input type="hidden" name="region2" id="getSecondAddr" value="">
                            <input type="hidden" name="region3" id="getThirdAddr" value="">
                            <input type="hidden" name="wholeRegion" id="getAllAddr" value="">
                        </form>
                    </div>
                </div>
            </div>

            <div class="saleList pt-5 mt-5 border-top">
                <div class="d-flex align-items-center">
                    <h2 class="h3 fw-bold">내 통장 확인</h2>
                </div>
                <br>
            </div>
            <div class="mb-1">
                <ul>
                    {% for myAccount in myAccounts %}
                        <li>👉🏻 {{myAccount.name}} • 계좌번호: {{myAccount.account_num}} • 잔고: {{myAccount.deposit}}</li>
                    {% endfor %}
                </ul>
            </div>

            <div class="saleList pt-5 mt-5 border-top">
                <div class="d-flex align-items-center">
                    <h2 class="h3 fw-bold">내 카드 확인</h2>
                </div>
            </div>
            <div class="mb-1">
                <ul>
                    {% for myCards in myCards %}
                    <li>👉🏻 카드 명: {{myCards.name}} • 카드번호: {{myCards.card_number}} • 연결된 계좌: {{myCards.user_account_name}}</li>
                    {% endfor %}
                </ul>
            </div>
        </main>
        <!-- footer -->
        <nav class="navbar navbar-expand-md bg-dark border-1" id="footerNav"></nav>
    </div>
    <!-- kakao maps API의 service 라이브러리 -->
    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0557dfefeb3b6dfb23b5c3e62231657b&libraries=services"></script>

    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0557dfefeb3b6dfb23b5c3e62231657b"></script>
    <script src="/js/userLocation.js"></script>
    <script src="/js/topNav.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script>
        function fixAddr(){
            const request = document.getElementById('regions');
            alert("위치등록을 완료했습니다");

            request.setAttribute('action', 'mpfunc/location');
            request.setAttribute('method', 'GET');
        }
    </script>
</body>

</html>